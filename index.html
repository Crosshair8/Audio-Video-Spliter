<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video + Audio Splitter (Local + Free)</title>
    <style>
      body { font-family: system-ui, Arial; margin: 24px; max-width: 980px; }
      .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
      select, input, button { padding: 10px; }
      button { cursor: pointer; }
      progress { width: 340px; height: 18px; }
      #links a { display: block; margin: 6px 0; }
      #log { white-space: pre-wrap; background: #111; color: #eee; padding: 12px; border-radius: 8px; }
      .card { padding: 12px; border: 1px solid #ddd; border-radius: 10px; margin-top: 12px; }
      .small { opacity: 0.85; font-size: 0.95rem; }
      .tag { display: inline-block; padding: 4px 10px; border: 1px solid #ddd; border-radius: 999px; font-size: 0.85rem; }
    </style>
  </head>

  <body>
    <h1>Video + Audio Splitter (100% Local + Free)</h1>
    <p class="small">
      Upload a video OR audio file → choose 5/10/20 minute segments → split → download.
      <br />
      <span class="tag">Nothing uploads</span>
      <span class="tag">Runs in browser</span>
      <span class="tag">Free</span>
    </p>

    <div class="card">
      <div class="row">
        <input id="file" type="file" accept="video/*,audio/*" />
        <span id="detectedType" class="small"></span>
      </div>

      <div class="row" style="margin-top: 10px;">
        <label><b>Split size:</b></label>
        <select id="splitSize">
          <option value="300">5 minutes</option>
          <option value="600" selected>10 minutes</option>
          <option value="1200">20 minutes</option>
          <option value="1800">30 minutes</option>
          <option value="custom">Custom…</option>
        </select>

        <input id="customSeconds" type="number" min="1" value="600" style="display:none; width:160px;" />
        <span id="customLabel" style="display:none;">seconds</span>

        <button id="start">Split</button>
      </div>

      <div class="row" style="margin-top: 12px;">
        <progress id="progress" value="0" max="1"></progress>
        <span id="status"></span>
      </div>

      <p class="small" style="margin-top: 10px;">
        Notes:
        <br />• Video splitting is super fast (no re-encode) but may cut slightly off exact times.
        <br />• Audio splitting exports MP3 chunks for compatibility.
      </p>
    </div>

    <h2>Downloads</h2>

    <!-- ✅ ZIP BUTTON (HIDDEN UNTIL SPLIT FINISHES) -->
    <button
      id="zipBtn"
      style="display:none; padding:10px; margin-bottom:10px; cursor:pointer;"
    >
      Download all as ZIP
    </button>

    <div id="links"></div>

    <h2>Log</h2>
    <div id="log"></div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
